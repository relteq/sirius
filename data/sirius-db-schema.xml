<?xml version="1.0" encoding="utf-8"?>

<!DOCTYPE database SYSTEM
	"http://db.apache.org/torque/dtd/database_3_3.dtd">

<database name="sirius"
	baseClass="com.relteq.sirius.db.BaseObject"
	basePeer="com.relteq.sirius.db.BasePeer"
	defaultJavaType="object">
	<domain name="ID" type="BIGINT"/>
	<domain name="NAME_BUF" type="VARCHAR" size="64"/>
	<domain name="STRING_VERSION" type="VARCHAR" size="64"/>
	<domain name="VALUE_BUF" type="VARCHAR" size="256"/>
	<domain name="VALUE_TYPE" type="VARCHAR" size="16"/>
	<domain name="JAVA_CLASS" type="VARCHAR" size="128"/>
	<domain name="DESCRIPTION_BUF" type="VARCHAR" size="2048"/>
	<domain name="ELEMENT_TYPE" type="VARCHAR" size="32"/>
	<domain name="MODEL_TYPE" type="VARCHAR" size="32"/>
	<domain name="SENSOR_TYPE" type="VARCHAR" size="32"/>
	<domain name="ENCODED_SHAPE" type="VARCHAR" size="2048"/>
	<domain name="GEOMETRY" type="VARCHAR" size="2048"/>
	<domain name="AGGREGATION" type="VARCHAR" size="8"/>
	<domain name="EXE_STATUS" type="INTEGER"/>
	<domain name="BOOL" type="BOOLEANCHAR"/>
	<domain name="DECIMAL" type="DECIMAL" size="31" scale="16"/>



	<!-- **************************************************************************** -->


	<!-- Projects -->

	<table name="projects">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="name" required="true" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
	</table>




	<!-- **************************************************************************** -->


	<!-- Scenario Configuration -->


	<table name="networks" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="is_master" domain="BOOL" description="This parameter is used only in the context of large system where maps are imported from Navteq or OSM."/>
		<column name="name" domain="NAME_BUF"/>
		<column name="source" domain="ID" description="Network, from which current network was derived."/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="in_use" domain="BOOL" description="If false, the network cannot be used - same as depricated."/>
		<column name="locked" domain="BOOL" description="If true, the network is read-only."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="networks">
			<reference local="source" foreign="id"/>
		</foreign-key>
	</table>

	<table name="node_families" idMethod="none">
		<column name="id" primaryKey="true" domain="ID"/>
	</table>

	<table name="nodes">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="geom" required="true" domain="GEOMETRY" description="Geo location: SRID 4326"/>
		<column name="in_synch" domain="BOOL" description="This flag indicates whether the node type and position are in sync with the other nodes in the family."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="node_families">
			<reference local="id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="network_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="node_name">
		<column name="id" required="true" domain="ID"/>
		<column name="network_id" required="true" domain="ID"/>
		<column name="name" required="true" domain="NAME_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="nodes">
			<reference local="id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
	</table>

	<table name="node_type">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="type" required="true" domain="ELEMENT_TYPE"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="nodes">
			<reference local="id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
	</table>

	<table name="postmile_highways" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="highway_name" required="true" domain="NAME_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
	</table>

	<table name="postmiles">
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="node_id" primaryKey="true" domain="ID"/>
		<column name="highway_id" primaryKey="true" domain="ID"/>
		<column name="postmile" required="true" domain="DECIMAL"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="nodes">
			<reference local="node_id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
		<foreign-key foreignTable="postmile_highways">
			<reference local="highway_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="link_families" idMethod="none">
		<column name="id" primaryKey="true" domain="ID"/>
	</table>

	<table name="links">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="beg_node_id" required="true" domain="ID"/>
		<column name="end_node_id" required="true" domain="ID"/>
		<column name="geom" required="true" domain="GEOMETRY" description="Geometry: SRID 4326"/>
		<column name="length" required="true" domain="DECIMAL" description="Length in meters."/>
		<column name="detail_level" required="true" type="INTEGER" description="From 1 (important) to 5 (less so) used for subselection."/>
		<column name="in_synch" domain="BOOL" description="This flag indicates whether the link configuration is synchronized with the rest of the links in the family."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="link_families">
			<reference local="id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="network_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="node_families">
			<reference local="beg_node_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="node_families">
			<reference local="end_node_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="link_name">
		<column name="id" required="true" domain="ID"/>
		<column name="network_id" required="true" domain="ID"/>
		<column name="name" required="true" domain="NAME_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="links">
			<reference local="id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
	</table>

	<table name="link_type">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="type" required="true" domain="ELEMENT_TYPE"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="links">
			<reference local="id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
	</table>

	<table name="link_lanes">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="lanes" required="true" domain="DECIMAL" description="Number of lanes."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="links">
			<reference local="id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
	</table>

	<table name="link_lane_offset">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="display_lane_offset" domain="DECIMAL" description="This parameter indicates how link should be displayed at the map."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="links">
			<reference local="id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
	</table>

	<table name="link_speed_limit">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="speed_limit" domain="DECIMAL" description="In meters per second."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="links">
			<reference local="id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
	</table>

	<table name="link_turn_restrictions">
		<column name="from_network_id" primaryKey="true" domain="ID"/>
		<column name="from_link_id" primaryKey="true" domain="ID"/>
		<column name="to_network_id" primaryKey="true" domain="ID"/>
		<column name="to_link_id" primaryKey="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="link_families">
			<reference local="from_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="from_network_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="to_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="to_network_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="network_connection_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="network_connections">
		<column name="network_connection_set_id" required="true" domain="ID"/>
		<column name="from_network_id" required="true" domain="ID"/>
		<column name="from_link_id" required="true" domain="ID"/>
		<column name="to_network_id" required="true" domain="ID"/>
		<column name="to_link_id" required="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="network_connection_sets">
			<reference local="network_connection_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="from_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="from_network_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="to_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="to_network_id" foreign="id"/>
		</foreign-key>
		<unique name="network_connections_from">
			<unique-column name="network_connection_set_id"/>
			<unique-column name="from_network_id"/>
			<unique-column name="from_link_id"/>
		</unique>
		<unique name="network_connections_to">
			<unique-column name="network_connection_set_id"/>
			<unique-column name="to_network_id"/>
			<unique-column name="to_link_id"/>
		</unique>
	</table>


	<!-- Destination Networks -->

	<table name="destination_networks" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="destination_link_id" required="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="link_families">
			<reference local="destination_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="destination_network_links">
		<column name="link_id" primaryKey="true" domain="ID"/>
		<column name="destination_network_id" primaryKey="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="link_families">
			<reference local="link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="destination_networks">
			<reference local="destination_network_id" foreign="id"/>
		</foreign-key>
	</table>


	<!-- Routes -->

	<table name="routes">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" required="true" domain="NAME_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="route_links">
		<column name="route_id" primaryKey="true" domain="ID"/>
		<column name="link_id" primaryKey="true" domain="ID"/>
		<column name="ordinal" primaryKey="true" type="INTEGER"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="routes">
			<reference local="route_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="link_id" foreign="id"/>
		</foreign-key>
	</table>


	<!-- Vehicle Types -->

	<table name="vehicle_type_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="vehicle_types" idMethod="native">
		<column name="vehicle_type_id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="weight" required="true" domain="DECIMAL" description="This value is 1 for usual vehicles, and typically 3 for trucks."/>
		<column name="name" required="true" domain="NAME_BUF"/>
		<column name="standard" required="true" domain="BOOL" description="Flag indicating whether this is a standard type (if true) or user-defined."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="vehicle_types_in_sets">
		<column name="vehicle_type_set_id" primaryKey="true" domain="ID"/>
		<column name="vehicle_type_id" primaryKey="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="vehicle_type_sets">
			<reference local="vehicle_type_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="vehicle_types">
			<reference local="vehicle_type_id" foreign="vehicle_type_id"/>
		</foreign-key>
	</table>

	
	<!-- Initial Conditions -->

	<table name="initial_density_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="initial_densities">
		<column name="initial_density_set_id" primaryKey="true" domain="ID"/>
		<column name="link_id" primaryKey="true" domain="ID"/>
		<column name="vehicle_type_id" primaryKey="true" domain="ID"/>
		<column name="destination_link_id" domain="ID" description="If the destination is not specified, the demand is added to the background flow."/>
		<column name="density" domain="DECIMAL"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="initial_density_sets">
			<reference local="initial_density_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="destination_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="vehicle_types">
			<reference local="vehicle_type_id" foreign="vehicle_type_id"/>
		</foreign-key>
	</table>


	<!-- Weaving -->

	<table name="weaving_factor_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="weaving_factors">
		<column name="weaving_factor_set_id" primaryKey="true" domain="ID"/>
		<column name="in_link_id" primaryKey="true" domain="ID"/>
		<column name="out_link_id" primaryKey="true" domain="ID"/>
		<column name="vehicle_type_id" primaryKey="true" domain="ID"/>
		<column name="factor" domain="DECIMAL" description="Should be greater than 1 for downstream merge weaving, or less than -1 for upstream diverge weaving. 1 and -1 represent no weaving."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="weaving_factor_sets">
			<reference local="weaving_factor_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="in_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="out_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="vehicle_types">
			<reference local="vehicle_type_id" foreign="vehicle_type_id"/>
		</foreign-key>
	</table>


	<!-- Split Ratios -->

	<table name="split_ratio_profile_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
	</table>

	<table name="split_ratio_profiles" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="split_ratio_profile_set_id" required="true" domain="ID"/>
		<column name="node_id" required="true" domain="ID"/>
		<column name="network_id" required="true" domain="ID"/>
		<column name="destination_link_id" domain="ID" description="If the destination is not specified, the demand is added to the background flow."/>
		<column name="dt" domain="DECIMAL" description="Sampling rate in seconds. Default is 300 (5 minutes)."/>
		<column name="start_time" domain="DECIMAL" description="Start time in seconds. Default is 0."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="split_ratio_profile_sets">
			<reference local="split_ratio_profile_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="nodes">
			<reference local="node_id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
		<foreign-key foreignTable="links">
			<reference local="destination_link_id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
	</table>

	<table name="split_ratios">
		<column name="split_ratio_profile_id" primaryKey="true" domain="ID"/>
		<column name="in_link_id" primaryKey="true" domain="ID"/>
		<column name="out_link_id" primaryKey="true" domain="ID"/>
		<column name="vehicle_type_id" primaryKey="true" domain="ID"/>
		<column name="ordinal" primaryKey="true" type="INTEGER" description="Order of the split ratio"/>
		<column name="split_ratio" required="true" domain="DECIMAL" description="Value between 0 and 1."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="split_ratio_profiles">
			<reference local="split_ratio_profile_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="in_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="out_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="vehicle_types">
			<reference local="vehicle_type_id" foreign="vehicle_type_id"/>
		</foreign-key>
	</table>


	<!-- Fundamental Diagrams -->

	<table name="fundamental_diagram_profile_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="fundamental_diagram_profiles" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="fundamental_diagram_profile_set_id" required="true" domain="ID"/>
		<column name="link_id" required="true" domain="ID"/>
		<column name="dt" domain="DECIMAL" description="Sampling rate in seconds. Default is 300 (5 minutes)."/>
		<column name="start_time" domain="DECIMAL" description="Start time in seconds. Default is 0."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="fundamental_diagram_profile_sets">
			<reference local="fundamental_diagram_profile_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="link_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="fundamental_diagrams">
		<column name="fundamental_diagram_profile_id" primaryKey="true" domain="ID"/>
		<column name="number" primaryKey="true" type="INTEGER" description="Order of the fundamental diagram"/>
		<column name="free_flow_speed" required="true" domain="DECIMAL" description="Free flow speed in m/s."/>
		<column name="critical_speed" required="true" domain="DECIMAL" description="Critical speed in m/s."/>
		<column name="congestion_wave_speed" required="true" domain="DECIMAL" description="Congestion wave speed in m/s."/>
		<column name="capacity" required="true" domain="DECIMAL" description="Maximum flow per lane in vehicles per second per lane (vphl)."/>
		<column name="jam_density" domain="DECIMAL" description="Maximum density per lane in vehicles per meter per lane (vphl). Optional - used for trapezoidal fundamental diagrams."/>
		<column name="capacity_drop" domain="DECIMAL" description="Capacity drop in vphl. Optional."/>
		<column name="capacity_std" domain="DECIMAL" description="Expression of uncertainty in capacity in vehicles per second per lane. Optional."/>
		<column name="free_flow_speed_std" domain="DECIMAL" description="Expression of uncertainty in free flow speed in m/s. Optional."/>
		<column name="congestion_wave_speed_std" domain="DECIMAL" description="Expression of uncertainty in congestion wave speed in m/s. Optional."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="fundamental_diagram_profiles">
			<reference local="fundamental_diagram_profile_id" foreign="id"/>
		</foreign-key>
	</table>


	<!-- Demands -->

	<table name="demand_profile_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="demand_profiles" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="demand_profile_set_id" required="true" domain="ID"/>
		<column name="origin_link_id" required="true" domain="ID"/>
		<column name="destination_link_id" domain="ID" description="If the destination is not specified, the demand is added to the background flow."/>
		<column name="dt" domain="DECIMAL" description="Sampling rate in seconds. Default is 300 (5 minutes)."/>
		<column name="start_time" domain="DECIMAL" description="Start time in seconds. Default is 0."/>
		<column name="knob" domain="DECIMAL" description="Coefficient by which the demand is multiplied before being fed to the simulation. Default value is 1."/>
		<column name="std_deviation_additive" domain="DECIMAL" description="Demand uncertainty in vph. Default value is 0."/>
		<column name="std_deviation_multiplicative" domain="DECIMAL" description="Demand uncertainty. Default value is 1."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="demand_profile_sets">
			<reference local="demand_profile_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="origin_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="destination_link_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="demands">
		<column name="demand_profile_id" primaryKey="true" domain="ID"/>
		<column name="vehicle_type_id" primaryKey="true" domain="ID"/>
		<column name="number" primaryKey="true" type="INTEGER" description="Order of the demand"/>
		<column name="demand" required="true" domain="DECIMAL" description="Demand flow in vph."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="demand_profiles">
			<reference local="demand_profile_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="vehicle_types">
			<reference local="vehicle_type_id" foreign="vehicle_type_id"/>
		</foreign-key>
	</table>


	<!-- Downstream Boundary Capacities -->
	
	<table name="downstream_boundary_capacity_profile_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="downstream_boundary_capacity_profiles" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="downstream_boundary_capacity_profile_set_id" required="true" domain="ID"/>
		<column name="link_id" required="true" domain="ID"/>
		<column name="dt" domain="DECIMAL" description="Sampling rate in seconds. Default is 300 (5 minutes)."/>
		<column name="start_time" domain="DECIMAL" description="Start time in seconds. Default is 0."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="downstream_boundary_capacity_profile_sets">
			<reference local="downstream_boundary_capacity_profile_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="link_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="downstream_boundary_capacities">
		<column name="downstream_boundary_capacity_profile_id" primaryKey="true" domain="ID"/>
		<column name="number" primaryKey="true" type="INTEGER" description="Order of the downstream boundary capacity"/>
		<column name="downstream_boundary_capacity" required="true" domain="DECIMAL" description="Maximum flow that can exit this link in vph."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="downstream_boundary_capacity_profiles">
			<reference local="downstream_boundary_capacity_profile_id" foreign="id"/>
		</foreign-key>
	</table>


	<!-- Sensors -->

	<table name="sensor_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="sensors" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="type" required="true" domain="SENSOR_TYPE"/>
		<column name="sensor_set_id" required="true" domain="ID"/>
		<column name="original_id" domain="NAME_BUF" description="How this sensor is identified in the field. In reality, this can be a group of sensors - VDS."/>
		<column name="data_source_id" domain="ID" description="Which data feed does this sensor belong to."/>
		<column name="display_geometry" required="true" domain="GEOMETRY" description="SRID 4326"/>
		<column name="link_id" domain="ID" description="If link ID is not present, the sensor is not assigned."/>
		<column name="link_position" domain="DECIMAL" description="Offset in meters from the begining of the link."/>
		<column name="lane_number" type="INTEGER" description="Optional parameter indicating at which lane the sensor is located."/>
		<column name="health_status" required="true" domain="DECIMAL" description="Value in the range of [0, 1], indicating how healthy the detector is: 0 = dead/ totally unreliable, 1 = 100% trustworthy."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="sensor_sets">
			<reference local="sensor_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="data_sources">
			<reference local="data_source_id" foreign="id"/>
		</foreign-key>
	</table>


	<!-- Signals -->

	<table name="signal_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="signals" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="node_id" required="true" domain="ID"/>
		<column name="signal_set_id" required="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="node_families">
			<reference local="node_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="signal_sets">
			<reference local="signal_set_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="phases">
		<column name="signal_id" primaryKey="true" domain="ID"/>
		<column name="nema" primaryKey="true" type="INTEGER" description="Phase number: 1-16. Currently used are 1-8."/>
		<column name="protected" javaName="isProtected" required="true" domain="BOOL" description=""/>
		<column name="permissive" required="true" domain="BOOL" description=""/>
		<column name="lag" required="true" domain="BOOL" description=""/>
		<column name="recall" required="true" domain="BOOL" description=""/>
		<column name="min_green_time" required="true" domain="DECIMAL" description="Minimum green time in seconds."/>
		<column name="yellow_time" required="true" domain="DECIMAL" description="Yellow time in seconds."/>
		<column name="red_clear_time" required="true" domain="DECIMAL" description="Time required to clear the intersection after the signal turned red, in seconds."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="signals">
			<reference local="signal_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="phase_links">
		<column name="signal_id" primaryKey="true" domain="ID"/>
		<column name="nema" primaryKey="true" type="INTEGER" description="Phase number: 1-16. Currently used are 1-8."/>
		<column name="link_id" primaryKey="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="phases">
			<reference local="signal_id" foreign="signal_id"/>
			<reference local="nema" foreign="nema"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="link_id" foreign="id"/>
		</foreign-key>
	</table>


	<!-- Controllers -->

	<table name="controller_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="queue_controllers" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="type" required="true" domain="ELEMENT_TYPE"/>
		<column name="java_class" domain="NAME_BUF" description="Column for user-defined queue controllers."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
	</table>

	<table name="controllers" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="controller_set_id" required="true" domain="ID"/>
		<column name="type" required="true" domain="ELEMENT_TYPE"/>
		<column name="java_class" domain="NAME_BUF" description="Column for user-defined controllers."/>
		<column name="name" domain="NAME_BUF"/>
		<column name="dt" domain="DECIMAL" description="Invocation period in seconds. Default is 30."/>
		<column name="queue_controller_id" domain="ID"/>
		<column name="display_geometry" domain="GEOMETRY" description="SRID 4326"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="controller_sets">
			<reference local="controller_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="queue_controllers">
			<reference local="queue_controller_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="controller_activation_intervals">
		<column name="controller_id" required="true" domain="ID"/>
		<column name="start_time" required="true" domain="DECIMAL" description="Start time in seconds. Default is 0."/>
		<column name="duration" required="true" domain="DECIMAL" description="Active time in seconds. Default is 86400 (24 hours)."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="controllers">
			<reference local="controller_id" foreign="id"/>
		</foreign-key>
	</table>


	<!-- Ensamble Kalman Filter -->

	<table name="enkf_noise_parameter_sets">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="enkf_noise_parameters">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="enkf_noise_parameter_set_id" required="true" domain="ID"/>
		<column name="source" domain="NAME_BUF" description="Data source: model, PeMS, probes, etc."/>
		<column name="mean" required="true" domain="DECIMAL" description="Noise mean in m/s."/>
		<column name="stdev" required="true" domain="DECIMAL" description="Noise standard deviation in m/s."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="enkf_noise_parameter_sets">
			<reference local="enkf_noise_parameter_set_id" foreign="id"/>
		</foreign-key>
	</table>


	<!-- Events -->

	<table name="event_sets" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="events" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="event_set_id" required="true" domain="ID"/>
		<column name="tstamp" required="true" type="DECIMAL"/>
		<column name="type" required="true" domain="ELEMENT_TYPE"/>
		<column name="java_class" domain="NAME_BUF" description="Column for user-defined controllers."/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="display_geometry" domain="GEOMETRY" description="SRID 4326"/>
		<column name="enabled" required="true" domain="BOOL" description="If the event is not enabled, it does not fire."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="event_sets">
			<reference local="event_set_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="event_split_ratios">
		<column name="event_id" primaryKey="true" domain="ID"/>
		<column name="in_link_id" primaryKey="true" domain="ID"/>
		<column name="out_link_id" primaryKey="true" domain="ID"/>
		<column name="vehicle_type_id" primaryKey="true" domain="ID"/>
		<column name="split_ratio" required="true" domain="DECIMAL" description="Value between 0 and 1."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="events">
			<reference local="event_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="in_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="out_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="vehicle_types">
			<reference local="vehicle_type_id" foreign="vehicle_type_id"/>
		</foreign-key>
	</table>


	<!-- Shared Structures -->

	<table name="parameters">
		<column name="scenario_element_id" primaryKey="true" domain="ID" description="Reference to the scenario element with parameters."/>
		<column name="scenario_element_type" primaryKey="true" domain="ELEMENT_TYPE" description="Determines where to look for the referenced scenario element: link|node|signal|sensor|controller|queue controller|event."/>
		<column name="name" primaryKey="true" domain="NAME_BUF"/>
		<column name="value" required="true" domain="VALUE_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
	</table>

	<table name="tabular_data">
		<column name="parent_element_id" primaryKey="true" domain="ID" description="ID of the controller or the event that works with referenced scenario elements."/>
		<column name="parent_element_type" primaryKey="true" domain="ELEMENT_TYPE" description="Determines where to look for the referenced scenario element: controller|event."/>
		<column name="column_name" primaryKey="true" domain="NAME_BUF"/>
		<column name="row_number" primaryKey="true" type="INTEGER"/>
		<column name="value" required="true" domain="VALUE_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
	</table>

	<table name="tabular_data_keys">
		<column name="parent_element_id" primaryKey="true" domain="ID" description="ID of the controller or the event that works with referenced scenario elements."/>
		<column name="parent_element_type" primaryKey="true" domain="ELEMENT_TYPE" description="Determines where to look for the referenced scenario element: controller|event."/>
		<column name="column_name" primaryKey="true" domain="NAME_BUF"/>
		<column name="column_number" required="true" type="INTEGER"/>
		<column name="is_key" required="true" domain="BOOL" description="Indicates if this column is a part of the key for finding table elements."/>
	</table>

	<table name="referenced_scenario_elements">
		<column name="parent_element_id" primaryKey="true" domain="ID" description="ID of the controller or the event that works with referenced scenario elements."/>
		<column name="parent_element_type" primaryKey="true" domain="ELEMENT_TYPE" description="Determines where to look for the referenced scenario element: controller|event."/>
		<column name="type" primaryKey="true" type="VARCHAR" size="8" description="feedback or target"/>
		<column name="scenario_element_id" primaryKey="true" domain="ID" description="Reference to the scenario element."/>
		<column name="scenario_element_type" required="true" domain="ELEMENT_TYPE" description="Determines where to look for the referenced scenario element: link|node|signal|sensor|controller|queue controller|event."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
	</table>


	<!-- Main Scenario Tables -->

	<table name="scenarios" idMethod="native">
		<column name="id" primaryKey="true" domain="ID"/>
		<column name="project_id" required="true" domain="ID"/>
		<column name="network_connection_set_id" domain="ID"/>
		<column name="vehicle_type_set_id" domain="ID"/>
		<column name="signal_set_id" domain="ID"/>
		<column name="sensor_set_id" domain="ID"/>
		<column name="split_ratio_profile_set_id" domain="ID"/>
		<column name="weaving_factor_set_id" domain="ID"/>
		<column name="initial_density_set_id" domain="ID"/>
		<column name="fundamental_diagram_profile_set_id" domain="ID"/>
		<column name="demand_profile_set_id" domain="ID"/>
		<column name="downstream_boundary_capacity_profile_set_id" domain="ID"/>
		<column name="controller_set_id" domain="ID"/>
		<column name="event_set_id" domain="ID"/>
		<column name="enkf_noise_parameter_set_id" domain="ID"/>
		<column name="name" domain="NAME_BUF"/>
		<column name="description" domain="DESCRIPTION_BUF"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="projects">
			<reference local="project_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="network_connection_sets">
			<reference local="network_connection_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="signal_sets">
			<reference local="signal_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="sensor_sets">
			<reference local="sensor_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="initial_density_sets">
			<reference local="initial_density_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="fundamental_diagram_profile_sets">
			<reference local="fundamental_diagram_profile_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="demand_profile_sets">
			<reference local="demand_profile_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="downstream_boundary_capacity_profile_sets">
			<reference local="downstream_boundary_capacity_profile_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="split_ratio_profile_sets">
			<reference local="split_ratio_profile_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="weaving_factor_sets">
			<reference local="weaving_factor_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="controller_sets">
			<reference local="controller_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="event_sets">
			<reference local="event_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="enkf_noise_parameter_sets">
			<reference local="enkf_noise_parameter_set_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="vehicle_type_sets">
			<reference local="vehicle_type_set_id" foreign="id"/>
		</foreign-key>
	</table>
	
	<table name="network_sets">
		<column name="scenario_id" required="true" domain="ID"/>
		<column name="network_id" required="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="scenarios">
			<reference local="scenario_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="network_id" foreign="id"/>
		</foreign-key>
	</table>
	
	<table name="destination_network_sets">
		<column name="scenario_id" required="true" domain="ID"/>
		<column name="destination_network_id" required="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="scenarios">
			<reference local="scenario_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="destination_networks">
			<reference local="destination_network_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="route_sets">
		<column name="scenario_id" required="true" domain="ID"/>
		<column name="route_id" required="true" domain="ID"/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="scenarios">
			<reference local="scenario_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="routes">
			<reference local="route_id" foreign="id"/>
		</foreign-key>
	</table>

	
	





	<!-- **************************************************************************** -->



	<!-- Simulation Data -->

	<table name="data_sources" idMethod="none">
		<column name="id" primaryKey="true" domain="ID"/>
	</table>
	
	<table name="simulation_runs">
		<column name="data_source_id" primaryKey="true" domain="ID"/>
		<column name="scenario_id" required="true" domain="ID"/>
		<column name="run_number" required="true" type="BIGINT"/>
		<column name="version" required="true" domain="STRING_VERSION"/>
		<column name="build" required="true" domain="STRING_VERSION"/>
		<column name="simulation_start_time" required="true" domain="DECIMAL" description="Start time in seconds. Default is 0."/>
		<column name="simulation_duration" required="true" domain="DECIMAL" description="Active time in seconds. Default is 86400 (24 hours)."/>
		<column name="simulation_dt" domain="DECIMAL" required="true" description="Simulation step in seconds. Default is 1."/>
		<column name="output_dt" domain="DECIMAL" required="true" description="Frequency of writing the output in seconds. Default is 60."/>
		<column name="execution_start_time" required="true" type="TIMESTAMP"/>
		<column name="execution_end_time" required="false" type="TIMESTAMP"/>
		<column name="status" required="true" domain="EXE_STATUS" description="Status of the run execution."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="data_sources">
			<reference local="data_source_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="scenarios">
			<reference local="scenario_id" foreign="id"/>
		</foreign-key>
		<unique name="scenario_run">
			<unique-column name="scenario_id"/>
			<unique-column name="run_number"/>
		</unique>
	</table>

	<table name="default_simulation_settings">
		<column name="scenario_id" primaryKey="true" domain="ID"/>
		<column name="simulation_start_time" required="true" domain="DECIMAL" description="Start time in seconds. Default is 0."/>
		<column name="simulation_duration" required="true" domain="DECIMAL" description="Active time in seconds. Default is 86400 (24 hours)."/>
		<column name="simulation_dt" domain="DECIMAL" required="true" description="Simulation step in seconds. Default is 1."/>
		<column name="output_dt" domain="DECIMAL" required="true" description="Frequency of writing the output in seconds. Default is 60."/>
		<column name="created" required="true" type="DATE"/>
		<column name="modified" required="true" type="DATE"/>
		<column name="created_by" required="true" domain="NAME_BUF"/>
		<column name="modified_by" required="true" domain="NAME_BUF"/>
		<column name="modstamp" required="true" type="TIMESTAMP"/>
		<foreign-key foreignTable="scenarios">
			<reference local="scenario_id" foreign="id"/>
		</foreign-key>
	</table>
	





	<!-- **************************************************************************** -->



	<!-- Link Data -->
	
	<table name="link_data_total">
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="link_id" primaryKey="true" domain="ID"/>
		<column name="data_source_id" primaryKey="true" domain="ID"/>
		<column name="ts" primaryKey="true" type="TIMESTAMP"/>
		<column name="aggregation" primaryKey="true" domain="AGGREGATION" description="Aggregation level: raw|1min|5min|15min|1hour|1day|total."/>
		<column name="type" primaryKey="true" domain="VALUE_TYPE" description="Type of data: standard (mean)|std|1Q|3Q|best case|worst case|max|min."/>
		<column name="cell_number" primaryKey="true" type="INTEGER" description="Sometimes, a link can be divided into several cells. Usually, there is just a single cell."/>
		<column name="in_flow" domain="DECIMAL"/>
		<column name="out_flow" domain="DECIMAL"/>
		<column name="density" domain="DECIMAL"/>
		<column name="speed" domain="DECIMAL"/>
		<column name="free_flow_speed" domain="DECIMAL" description="Free flow speed in m/s."/>
		<column name="critical_speed" domain="DECIMAL" description="Critical speed in m/s."/>
		<column name="congestion_wave_speed" domain="DECIMAL" description="Congestion wave speed in m/s."/>
		<column name="capacity" domain="DECIMAL" description="Maximum flow per lane in vehicles per second per lane (vphl)."/>
		<column name="jam_density" domain="DECIMAL" description="Maximum density per lane in vehicles per meter per lane (vphl). Optional - used for trapezoidal fundamental diagrams."/>
		<column name="capacity_drop" domain="DECIMAL" description="Capacity drop in vphl. Optional."/>
		<foreign-key foreignTable="links">
			<reference local="link_id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
		<foreign-key foreignTable="data_sources">
			<reference local="data_source_id" foreign="id"/>
		</foreign-key>
	</table>

	<table name="link_data_detailed">
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="link_id" primaryKey="true" domain="ID"/>
		<column name="data_source_id" primaryKey="true" domain="ID"/>
		<column name="destination_link_id" domain="ID"/>
		<column name="vehicle_type_id" primaryKey="true" domain="ID"/>
		<column name="ts" primaryKey="true" type="TIMESTAMP"/>
		<column name="aggregation" primaryKey="true" domain="AGGREGATION" description="Aggregation level: raw|1min|5min|15min|1hour|1day|total."/>
		<column name="type" primaryKey="true" domain="VALUE_TYPE" description="Type of data: standard (mean)|std|1Q|3Q|best case|worst case|max|min."/>
		<column name="cell_number" primaryKey="true" type="INTEGER" description="Sometimes, a link can be divided into several cells. Usually, there is just a single cell."/>
		<column name="in_flow" domain="DECIMAL"/>
		<column name="out_flow" domain="DECIMAL"/>
		<column name="density" domain="DECIMAL"/>
		<column name="speed" domain="DECIMAL"/>
		<foreign-key foreignTable="link_families">
			<reference local="link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="network_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="data_sources">
			<reference local="data_source_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="destination_link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="vehicle_types">
			<reference local="vehicle_type_id" foreign="vehicle_type_id"/>
		</foreign-key>
	</table>






	<!-- **************************************************************************** -->



	<!-- Link Performance Measures -->
	
	<table name="link_performance_total">
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="link_id" primaryKey="true" domain="ID"/>
		<column name="data_source_id" primaryKey="true" domain="ID"/>
		<column name="ts" primaryKey="true" type="TIMESTAMP"/>
		<column name="aggregation" primaryKey="true" domain="AGGREGATION" description="Aggregation level: raw|1min|5min|15min|1hour|1day|total."/>
		<column name="type" primaryKey="true" domain="VALUE_TYPE" description="Type of data: standard (mean)|std|1Q|3Q|best case|worst case|max|min."/>
		<column name="cell_number" primaryKey="true" type="INTEGER" description="Sometimes, a link can be divided into several cells. Usually, there is just a single cell."/>
		<column name="vmt" domain="DECIMAL"/>
		<column name="vht" domain="DECIMAL"/>
		<column name="delay" domain="DECIMAL"/>
		<column name="travel_time" domain="DECIMAL"/>
		<column name="productivity_loss" domain="DECIMAL"/>
		<column name="los" domain="DECIMAL" description="LOS - Level Of Service as defined in Highway Capacity Manual."/>
		<column name="vc_ratio" domain="DECIMAL" description="Volume to capacity ratio."/>
		<foreign-key foreignTable="links">
			<reference local="link_id" foreign="id"/>
			<reference local="network_id" foreign="network_id"/>
		</foreign-key>
		<foreign-key foreignTable="data_sources">
			<reference local="data_source_id" foreign="id"/>
		</foreign-key>
	</table>
	
	<table name="link_performance_detailed">
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="link_id" primaryKey="true" domain="ID"/>
		<column name="data_source_id" primaryKey="true" domain="ID"/>
		<column name="destination_link_id" domain="ID"/>
		<column name="vehicle_type_id" primaryKey="true" domain="ID"/>
		<column name="ts" primaryKey="true" type="TIMESTAMP"/>
		<column name="aggregation" primaryKey="true" domain="AGGREGATION" description="Aggregation level: raw|1min|5min|15min|1hour|1day|total."/>
		<column name="type" primaryKey="true" domain="VALUE_TYPE" description="Type of data: standard (mean)|std|1Q|3Q|best case|worst case|max|min."/>
		<column name="cell_number" primaryKey="true" type="INTEGER" description="Sometimes, a link can be divided into several cells. Usually, there is just a single cell."/>
		<column name="vmt" domain="DECIMAL"/>
		<column name="vht" domain="DECIMAL"/>
		<column name="delay" domain="DECIMAL"/>
		<foreign-key foreignTable="link_families">
			<reference local="link_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="network_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="data_sources">
			<reference local="data_source_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="link_families">
			<reference local="destination_link_id" foreign="id"/>
		</foreign-key>
	</table>



	
	<!-- **************************************************************************** -->



	<!-- Route Performance Measures -->
	
	<table name="route_performance_total">
		<column name="route_id" primaryKey="true" domain="ID"/>
		<column name="data_source_id" primaryKey="true" domain="ID"/>
		<column name="ts" primaryKey="true" type="TIMESTAMP"/>
		<column name="aggregation" primaryKey="true" domain="AGGREGATION" description="Aggregation level: raw|1min|5min|15min|1hour|1day|total."/>
		<column name="type" primaryKey="true" domain="VALUE_TYPE" description="Type of data: standard (mean)|std|1Q|3Q|best case|worst case|max|min."/>
		<column name="travel_time" domain="DECIMAL"/>
		<foreign-key foreignTable="routes">
			<reference local="route_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="data_sources">
			<reference local="data_source_id" foreign="id"/>
		</foreign-key>
	</table>



	

	<!-- **************************************************************************** -->



	<!-- Signal Data -->

	<table name="signal_data">
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="signal_id" primaryKey="true" domain="ID"/>
		<column name="data_source_id" primaryKey="true" domain="ID"/>
		<column name="phase" primaryKey="true" type="INTEGER" description="Phase number: 1-16. Currently used are 1-8."/>
		<column name="ts" primaryKey="true" type="TIMESTAMP"/>
		<column name="aggregation" primaryKey="true" domain="AGGREGATION" description="Aggregation level: raw|1min|5min|15min|1hour|1day|total."/>
		<column name="type" primaryKey="true" domain="VALUE_TYPE" description="Type of data: standard (mean)|std|1Q|3Q|best case|worst case|max|min."/>
		<column name="begin_green" type="TIMESTAMP" description="Begin of the green period for the given phase. Optional - makes sense only for raw data." />
		<column name="duration" required="true" domain="DECIMAL" description="Duration of green for this phase in seconds."/>
		<foreign-key foreignTable="signals">
			<reference local="signal_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="network_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="data_sources">
			<reference local="data_source_id" foreign="id"/>
		</foreign-key>
	</table>
	




	<!-- Signal Performance -->

	<table name="signal_phase_performance">
		<column name="network_id" primaryKey="true" domain="ID"/>
		<column name="signal_id" primaryKey="true" domain="ID"/>
		<column name="data_source_id" primaryKey="true" domain="ID"/>
		<column name="phase" primaryKey="true" type="INTEGER" description="Phase number: 1-16. Currently used are 1-8."/>
		<column name="ts" primaryKey="true" type="TIMESTAMP"/>
		<column name="aggregation" primaryKey="true" domain="AGGREGATION" description="Aggregation level: raw|1min|5min|15min|1hour|1day|total."/>
		<column name="type" primaryKey="true" domain="VALUE_TYPE" description="Type of data: standard (mean)|std|1Q|3Q|best case|worst case|max|min."/>
		<column name="phase_utilization" domain="DECIMAL" description="Percentage of green used."/>
		<column name="progression_quality" domain="DECIMAL" description="Percentage of vehicles arriving during green phase."/>
		<column name="delay_per_cycle" domain="DECIMAL" description="Delay per cycle for given phase."/>
		<column name="queue_size" domain="DECIMAL" description="Size of the queue waiting for green phase."/>
		<column name="number_of_stops" type="INTEGER" description="Number of cycles needed to pass through intersection."/>
		<foreign-key foreignTable="signals">
			<reference local="signal_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="networks">
			<reference local="network_id" foreign="id"/>
		</foreign-key>
		<foreign-key foreignTable="data_sources">
			<reference local="data_source_id" foreign="id"/>
		</foreign-key>
	</table>






</database>

